(function(){var e={3510:function(e,t,n){"use strict";n.d(t,{SV:function(){return i},aJ:function(){return u},j3:function(){return l}});var r=n(7694);const[a,o]=r.Ay.useMessage();r.Ay.config({duration:2});const i=e=>{r.Ay.info(e)},l=e=>{r.Ay.success(e)},u=e=>{r.Ay.error(e)}},7374:function(e,t,n){"use strict";n.d(t,{SK:function(){return g},xx:function(){return m},Fx:function(){return p},Pw:function(){return f},iD:function(){return c},oB:function(){return h},nz:function(){return d}});var r=n(8355),a=n(6158),o=n(1481);const i=r.A.create({baseURL:"http://127.0.0.1:3000"}),l=["/login"],u="bLanK_L";i.interceptors.request.use((e=>{let t=localStorage.getItem("token");return-1===l.indexOf(e.url)&&t&&(e.headers.authorization="Bearer "+t,e.headers.secret=(0,o.md5)(u+t.slice(-10))),e})),i.interceptors.response.use((e=>{if(e.data&&e.data.token&&localStorage.setItem("token",e.data.token),e.data&&e.data.username){const{setUsername:t}=(0,a.V)();t(e.data.username)}return e}));var s=i;function c(e,t){return s.post("/login",{username:e,password:t})}async function d(e,t){try{const n=await s.post("/uploadProject",{pname:e,data:t,stamp:+new Date});return n.data}catch(n){return console.error("请求 /uploadProject 失败",n),null}}async function f(e,t=0){try{const n=await s.post("/getProjectFromServer",{pname:e,stamp:t});return n.data}catch(n){return console.error("请求 /getProjectFromServer 失败",n),null}}async function p(){try{const e=await s.get("/getAllProject");return e.data}catch(e){return console.error("请求 /getAllProject 失败",e),[]}}async function h(e,t){return s.post("/renameProject",{oldPname:e,newPname:t})}async function m(e){return s.post("/deleteProject",{pname:e})}async function g(){return s.get("/checkToken")}},313:function(e,t,n){"use strict";n.d(t,{SI:function(){return l},nw:function(){return u},wC:function(){return i}});var r=n(1373),a=n.n(r),o=n(3510);function i(e,t){a().setItem(e,t).then((e=>{(0,o.j3)("本地保存成功")})).catch((e=>{throw(0,o.aJ)("本地保存失败"),e}))}async function l(e){return await a().getItem(e)}async function u(e){return a().removeItem(e)}},2422:function(e,t,n){"use strict";var r=n(5130),a=n(3367),o=n(6768);function i(e,t){const n=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.Wv)(n)}var l=n(1241);const u={},s=(0,l.A)(u,[["render",i]]);var c=s,d=n(1002),f=n(1387),p=(n(4114),n(144)),h=n(6697),m=n(14),g=n(3510),v=n(7374),A=n(6158);const b=e=>((0,o.Qi)("data-v-6f5d883e"),e=e(),(0,o.jt)(),e),y={class:"container"},w={class:"box"},k=b((()=>(0,o.Lk)("a",{class:"login-form-forgot",href:""},"Forgot password",-1))),C=b((()=>(0,o.Lk)("a",{href:""},"register now!",-1)));var x={__name:"Login",setup(e){const{username:t}=(0,a.bP)((0,A.V)()),n=(0,f.rd)(),r=(0,f.lq)(),i=(0,p.Kh)({username:"",password:"",remember:!0}),l=(0,o.EW)((()=>!(i.username&&i.password)));function u(){(0,v.iD)(i.username,i.password).then((e=>{console.log(e),t.value=e.data.username,(0,g.j3)("登录成功"),r.query.redirect?n.push(r.query.redirect):n.push({name:"detail"})})).catch((e=>{console.log(e),(0,g.aJ)("登录失败")}))}return(e,t)=>{const n=(0,o.g2)("a-input"),r=(0,o.g2)("a-form-item"),a=(0,o.g2)("a-input-password"),s=(0,o.g2)("a-checkbox"),c=(0,o.g2)("a-button"),d=(0,o.g2)("a-form");return(0,o.uX)(),(0,o.CE)("div",y,[(0,o.Lk)("div",w,[(0,o.bF)(d,{model:i,name:"normal_login",class:"login-form"},{default:(0,o.k6)((()=>[(0,o.bF)(r,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}]},{default:(0,o.k6)((()=>[(0,o.bF)(n,{value:i.username,"onUpdate:value":t[0]||(t[0]=e=>i.username=e)},{prefix:(0,o.k6)((()=>[(0,o.bF)((0,p.R1)(h.A),{class:"site-form-item-icon"})])),_:1},8,["value"])])),_:1}),(0,o.bF)(r,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},{default:(0,o.k6)((()=>[(0,o.bF)(a,{value:i.password,"onUpdate:value":t[1]||(t[1]=e=>i.password=e)},{prefix:(0,o.k6)((()=>[(0,o.bF)((0,p.R1)(m.A),{class:"site-form-item-icon"})])),_:1},8,["value"])])),_:1}),(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,{name:"remember","no-style":""},{default:(0,o.k6)((()=>[(0,o.bF)(s,{checked:i.remember,"onUpdate:checked":t[2]||(t[2]=e=>i.remember=e)},{default:(0,o.k6)((()=>[(0,o.eW)("Remember me")])),_:1},8,["checked"])])),_:1}),k])),_:1}),(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{disabled:l.value,type:"primary","html-type":"submit",class:"login-form-button",onClick:u},{default:(0,o.k6)((()=>[(0,o.eW)(" Log in ")])),_:1},8,["disabled"]),(0,o.eW)(" Or "),C])),_:1})])),_:1},8,["model"])])])}}};const D=(0,l.A)(x,[["__scopeId","data-v-6f5d883e"]]);var B=D,j=n(4232);const E=e=>((0,o.Qi)("data-v-bc195c08"),e=e(),(0,o.jt)(),e),P=E((()=>(0,o.Lk)("div",{class:"logo"},null,-1))),R={class:"nav-text"},F=E((()=>(0,o.Lk)("span",{class:"nav-text"},"新建空项目",-1)));var S={__name:"Detail",setup(e){const t=(0,f.rd)(),n=(0,p.KR)(["0"]),r=[["文件","fileView"],["社区","communityView"]];function a(){t.replace({path:"/"}),window.open(t.resolve({name:"DesignContainer",query:{pname:+new Date}}).href,"_blank")}return(e,i)=>{const l=(0,o.g2)("a-menu-item"),u=(0,o.g2)("a-menu"),s=(0,o.g2)("a-layout-sider"),c=(0,o.g2)("router-view"),d=(0,o.g2)("a-layout");return(0,o.uX)(),(0,o.Wv)(d,{"has-sider":""},{default:(0,o.k6)((()=>[(0,o.bF)(s,{style:{overflow:"auto",height:"100vh",position:"fixed",left:0,top:0,bottom:0,backgroundColor:"#2CABEC"}},{default:(0,o.k6)((()=>[P,(0,o.bF)(u,{selectedKeys:n.value,"onUpdate:selectedKeys":i[1]||(i[1]=e=>n.value=e),mode:"inline",style:{backgroundColor:"#2CABEC"}},{default:(0,o.k6)((()=>[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(r,((e,n)=>(0,o.bF)(l,{key:e[1],onClick:n=>(0,p.R1)(t).push({name:e[1]})},{default:(0,o.k6)((()=>[(0,o.Lk)("span",R,(0,j.v_)(e[0]),1)])),_:2},1032,["onClick"]))),64)),(0,o.bF)(l,{key:"createNewProject",onClick:i[0]||(i[0]=e=>a())},{default:(0,o.k6)((()=>[F])),_:1})])),_:1},8,["selectedKeys"])])),_:1}),(0,o.bF)(c)])),_:1})}}};const Q=(0,l.A)(S,[["__scopeId","data-v-bc195c08"]]);var I=Q;function K(e,t){const n=(0,o.g2)("a-empty");return(0,o.uX)(),(0,o.Wv)(n)}const L={},O=(0,l.A)(L,[["render",K],["__scopeId","data-v-abc4c238"]]);var _=O;const z={class:"my-projects"},q={style:{display:"flex","justify-content":"center","align-items":"center",width:"210px",height:"210px"}},W=["data-flag","src"];var J={__name:"ProjectCard",props:{allProject:{type:Array,default:()=>[]},clickCallback:{type:Function,default:()=>{}},isTemplate:{type:Boolean,default:!1}},emits:["updateAllProjectInfo"],setup(e,{emit:t}){const r=n(5634),a=e,i=t,l=(0,p.KR)(null),u=(0,p.KR)(!1),s=(0,p.KR)(""),c=(0,p.KR)(!1),d=(0,p.KR)("Title"),f=(0,p.KR)("primary"),h=(0,p.KR)(!0);let m=()=>{};const A=a.isTemplate?[]:[{title:"重命名项目",fn:()=>{m=b,d.value="重命名",f.value="primary",h.value=!0,u.value=!0}},{title:"删除项目",fn:()=>{m=y,d.value="删除项目",f.value="danger",h.value=!1,u.value=!0}}];function b(){""!=s.value&&(c.value=!0,(0,v.oB)(l.value.pname,s.value).then((e=>{c.value=!1,e.data.success?(l.value.pname=e.data.newPname,u.value=!1,(0,g.j3)(e.data.message)):(0,g.aJ)(e.data.message)})))}function y(){c.value=!0,(0,v.xx)(l.value.pname).then((e=>{c.value=!1,e.data.success?(i("updateAllProjectInfo",l.value.pname),u.value=!1,(0,g.j3)(e.data.message)):(0,g.aJ)(e.data.message)}))}return(t,n)=>{const a=(0,o.g2)("a-card-meta"),i=(0,o.g2)("a-card"),g=(0,o.g2)("a-input"),v=(0,o.g2)("a-modal"),b=(0,o.gN)("ctxmenu");return(0,o.uX)(),(0,o.CE)("div",z,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.allProject,((t,n)=>(0,o.bo)(((0,o.uX)(),(0,o.Wv)(i,{hoverable:"",key:n,class:"pitems",onClick:n=>e.clickCallback(t.pname),onContextmenu:()=>{l.value=t}},{cover:(0,o.k6)((()=>[(0,o.Lk)("div",q,[(0,o.Lk)("img",{class:"img",alt:"example","data-flag":t.img&&t.img.startsWith("template")?"template":"myProj",src:t.img?(0,p.R1)(r)("./"+t.img):(0,p.R1)(r)("./cover.png")},null,8,W)])])),default:(0,o.k6)((()=>[(0,o.bF)(a,{title:t.pname},null,8,["title"])])),_:2},1032,["onClick","onContextmenu"])),[[b,void 0,(0,p.R1)(A)]]))),128)),(0,o.bF)(v,{open:u.value,"onUpdate:open":n[1]||(n[1]=e=>u.value=e),title:d.value,"confirm-loading":c.value,onOk:(0,p.R1)(m),destroyOnClose:!0,okType:f.value},{default:(0,o.k6)((()=>[h.value?((0,o.uX)(),(0,o.Wv)(g,{key:0,value:s.value,"onUpdate:value":n[0]||(n[0]=e=>s.value=e),autofocus:"",placeholder:l.value.pname},null,8,["value","placeholder"])):(0,o.Q3)("",!0)])),_:1},8,["open","title","confirm-loading","onOk","okType"])])}}};const M=(0,l.A)(J,[["__scopeId","data-v-131b25c2"]]);var V=M;const U={style:{padding:"24px",background:"#fff",textAlign:"center"}};var N={__name:"FileView",setup(e){const t=(0,f.rd)(),n=(0,p.KR)([]),r=(0,p.KR)([{pname:"default",stamp:1/0,img:"template_default.png"}]);function a(e){const t=n.value.findIndex((t=>t.pname==e));n.value.splice(t,1)}function i(e){window.open(t.resolve({name:"DesignContainer",query:{pname:e}}).href,"_blank")}function l(e){switch(e){case"default":window.open(t.resolve({name:"DesignContainer",query:{pname:e+"_"+Date.now()},params:{template:e}}).href,"_blank");break}}(0,o.KC)((()=>{(0,v.Fx)().then((e=>{e.data&&(n.value=e.data.sort(((e,t)=>t.stamp-e.stamp)))})).then((()=>{sessionStorage.getItem("tour-file-view")||(s.value=!0,sessionStorage.setItem("tour-file-view",!0))}))}));const u=(0,p.KR)(0),s=(0,p.KR)(!1),c=(0,p.KR)(null),d=(0,p.KR)(null);(0,o.sV)((()=>{}));const h=[{target:()=>c&&c.value.$el,title:"右键",description:"右键菜单包括重命名和删除项目"},{target:()=>d&&d.value.$el,title:"点击以模板新建项目"}];function m(){l("default")}return(e,t)=>{const f=(0,o.g2)("a-typography-title"),g=(0,o.g2)("a-layout-header"),v=(0,o.g2)("a-divider"),A=(0,o.g2)("a-layout-content"),b=(0,o.g2)("a-layout"),y=(0,o.g2)("a-tour");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(b,{style:{marginLeft:"200px",height:"100vh"}},{default:(0,o.k6)((()=>[(0,o.bF)(g,{style:{background:"#fff",padding:0,display:"flex",alignItems:"center",paddingLeft:"20px"}},{default:(0,o.k6)((()=>[(0,o.bF)(f,{level:2},{default:(0,o.k6)((()=>[(0,o.eW)("文件")])),_:1})])),_:1}),(0,o.bF)(A,{style:{margin:"24px 16px 0",overflow:"auto",background:"#fff"}},{default:(0,o.k6)((()=>[(0,o.Lk)("div",U,[(0,o.bF)(f,{level:4,style:{"text-align":"left"}},{default:(0,o.k6)((()=>[(0,o.eW)("我的项目")])),_:1}),(0,o.bF)(v),(0,o.bF)((0,p.R1)(V),{allProject:n.value,clickCallback:i,ref_key:"step1Ref",ref:c,onUpdateAllProjectInfo:a},null,8,["allProject"]),(0,o.bF)(f,{level:4,style:{"text-align":"left"}},{default:(0,o.k6)((()=>[(0,o.eW)("模板")])),_:1}),(0,o.bF)(v),(0,o.bF)((0,p.R1)(V),{allProject:r.value,clickCallback:l,isTemplate:!0,ref_key:"step2Ref",ref:d},null,8,["allProject"])])])),_:1})])),_:1}),(0,o.bF)(y,{current:u.value,"onUpdate:current":t[0]||(t[0]=e=>u.value=e),open:s.value,steps:h,onClose:t[1]||(t[1]=e=>s.value=!1),onFinish:m},null,8,["current","open"])],64)}}};const H=(0,l.A)(N,[["__scopeId","data-v-2a18a7dd"]]);var T=H,G={__name:"CommunityView",setup(e){return(e,t)=>{const n=(0,o.g2)("a-typography-title"),r=(0,o.g2)("a-layout-header"),a=(0,o.g2)("a-layout-content"),i=(0,o.g2)("a-layout");return(0,o.uX)(),(0,o.Wv)(i,{style:{marginLeft:"200px",height:"100vh"}},{default:(0,o.k6)((()=>[(0,o.bF)(r,{style:{background:"#fff",padding:0,display:"flex",alignItems:"center",paddingLeft:"20px"}},{default:(0,o.k6)((()=>[(0,o.bF)(n,{level:2})])),_:1}),(0,o.bF)(a,{style:{margin:"24px 16px 0",overflow:"auto",background:"#fff"}},{default:(0,o.k6)((()=>[(0,o.bF)((0,p.R1)(_))])),_:1})])),_:1})}}};const Y=G;var X=Y;const Z=()=>n.e(754).then(n.bind(n,3754)),$=[{path:"/project/:template?",component:Z,name:"DesignContainer",beforeEnter:(e,t,n)=>{e.query.pname?n():((0,g.SV)("不存在该项目"),n({name:"detail"}))},meta:{requireAuth:!0}},{path:"/login",component:B,name:"login"},{path:"/",component:I,name:"detail",redirect:"/fileView",children:[{path:"fileView",name:"fileView",component:T,meta:{requireAuth:!0}},{path:"communityView",name:"communityView",component:X,meta:{requireAuth:!0}}]}],ee=(0,f.aE)({history:(0,f.Bt)(),routes:$});ee.beforeEach((async(e,t)=>{const{username:n}=(0,a.bP)((0,A.V)());if(e.meta.requireAuth&&!n.value){const t=await(0,v.SK)();if(401==t.data.code)return(0,g.SV)(t.data.message),{name:"login",query:{redirect:e.fullPath}}}}));var te=ee,ne=n(8025);n(4529);te.isReady().then((()=>{const e=(0,a.Ey)(),t=(0,r.Ef)(c);t.use(e).use(te).use(ne.Ay).directive("ctxmenu",d.vV),t.mount("#app")}))},6158:function(e,t,n){"use strict";n.d(t,{V:function(){return m}});n(4114);var r=n(3367),a=n(144),o=n(3510),i=n(313),l=n(7374),u=n(7089),s=n(6768);const c={};function d(e){c[e]()}c.default=()=>{const e=m(),{createDragItem:t}=e,n=t(null);t(n),t(n),(0,s.dY)((()=>n.standardizeChildrenPos())),(0,o.SV)("模板已应用")};const f=n(2884).v4,p=n(664),h=n(8005),m=(0,r.nY)("items",(()=>{const e={width:2e4,height:2e4},t={x:e.width/2-.5*window.innerWidth,y:e.height/2-.5*window.innerHeight};class n{constructor(e){this.pos=(0,a.Kh)({left:0,top:0}),this.rect=(0,a.Kh)({width:0,height:0}),this.isMoving=(0,a.KR)(!1),this.title="default",this.id=f(),this.parent=e||null,this.children=[],this.node=null}mount(e){this.node=e,this.updateRect()}updateRect(){this.rect.width=this.node.clientWidth,this.rect.height=this.node.clientHeight}standardizeChildrenPos(){const e=this.children.length;if(this.children.forEach(((t,n)=>{t.pos.top=(n-(e-1)/2)*(t.rect.height+c.value.verticalGap)-t.rect.height/2+this.rect.height/2,t.pos.left=this.rect.width+c.value.horizonGap})),!this.parent){const e=r.value.length;1===e?(this.pos.left=9800,this.pos.top=9800):(this.pos.left=r.value[e-2].pos.left,this.pos.top=r.value[e-2].pos.top+r.value[e-2].rect.height+c.value.verticalGap)}}InitialPosition(){if(this.parent){const e=this.parent.children.length;this.parent.children.forEach(((t,n)=>{t.pos.top=(n-(e-1)/2)*(t.rect.height+c.value.verticalGap)-t.rect.height/2+t.parent.rect.height/2})),this.pos.left=this.parent.rect.width+c.value.horizonGap}else{const e=r.value.length;r.value.forEach(((t,n)=>{t.pos.top=(n-(e-1)/2)*(t.rect.height+c.value.verticalGap)-t.rect.height/2+1e4})),this.pos.left=9800}}del(e=!0){let t,n=this.children.length;return this.parent?(t=this.parent.children.findIndex((e=>e===this)),this.parent.children.splice(t,1,...this.children),this.children.forEach((e=>{e.pos.left+=this.pos.left,e.pos.top+=this.pos.top,e.parent=this.parent}))):(t=r.value.findIndex((e=>e===this)),r.value.splice(t,1)),this.node.remove(),this.node=null,e&&(0,u.g1)("del",{itemData:this,father:this.parent||r.value,start:t,length:n}),this}extractProperties(){return{pos:(0,a.ux)(this.pos),rect:(0,a.ux)(this.rect),title:this.title,id:this.id,next:[],isLocal:!0}}importProperties(e){this.pos=(0,a.Kh)(e.pos),this.rect=(0,a.Kh)(e.rect),this.title=e.title,this.id=e.id,this.isLocal=e.isLocal}}const r=(0,a.KR)([]);function s(e){let t;return e?(t=new n(e),e.children.push(t)):(t=new n,r.value.push(t)),t}const c=(0,a.KR)(p);function m(e){c.value="dark"===e?h:p}const g=(0,a.KR)(1);function v(){const e=A(r.value);return{extract:e,themeName:c.value.name,scaleRatio:g.value,viewportPos:{x:window.scrollX,y:window.scrollY},stamp:+new Date}}function A(e){if(!e||0===e.length)return[];const t=[];for(let n=0;n<e.length;n++){let r=e[n];const a=r.extractProperties();t.push(a),a.next=A(r.children)}return t}async function b(e){let n=await(0,i.SI)(e);if(n){const t=await(0,l.Pw)(e,n.stamp);t&&t.data?n=JSON.parse(t.data):setTimeout((()=>{(0,l.nz)(e,JSON.stringify(n)).then((t=>{t&&t.success&&((0,o.j3)("同步成功🔄"),(0,i.nw)(e))}))}),0)}else{const t=await(0,l.Pw)(e);if(!(t&&t.success&&t.data))return!1;n=JSON.parse(t.data)}return m(n.themeName),g.value=n.scaleRatio,t.x=n.viewportPos.x,t.y=n.viewportPos.y,r.value=y(n.extract),0===r.value.length?((0,o.aJ)("导入失败"),!1):((0,o.j3)("导入成功"),!0)}function y(e,t=null){if(!e||0===e.length)return[];const n=[];for(let r=0;r<e.length;r++){let a=e[r];const o=s(t),i=y(a.next,o);o.children=i,n.push(o),o.importProperties(a)}return n}async function w(e,{template:n}){n?d(n):await b(e),setTimeout((()=>{window.scrollTo(t.x,t.y)}),0)}const k=(0,a.KR)("");function C(e){k.value=e}return{themeconf:c,setTheme:m,topItems:r,createDragItem:s,scaleRatio:g,extractProject:v,initProject:w,designerRect:e,username:k,setUsername:C}}))},8005:function(e){e.exports={name:"dark",horizonGap:80,verticalGap:40,baseBackgroundColor:"rgba(18, 18, 18, .4)",0:{fontSize:"24px",color:"#CFB53B",backgroundColor:"#262626"},1:{fontSize:"20px",color:"#CFB53B",backgroundColor:"#404040"},2:{fontSize:"16px",color:"#CFB53B",backgroundColor:"#595959"},3:{fontSize:"14px",color:"#CFB53B",backgroundColor:"#737373"},maxDep:3}},664:function(e){e.exports={name:"default",horizonGap:80,verticalGap:40,baseBackgroundColor:"#fff",0:{fontSize:"24px",color:"black",backgroundColor:"rgb(2, 164, 245)"},1:{fontSize:"20px",color:"black",backgroundColor:"rgb(2, 204, 245)"},2:{fontSize:"16px",color:"black",backgroundColor:"rgb(2, 237, 245)"},3:{fontSize:"14px",color:"black",backgroundColor:"rgb(2, 245, 209)"},maxDep:3}},7089:function(e,t,n){"use strict";n.d(t,{g1:function(){return d},gh:function(){return f},ne:function(){return c}});n(4114);var r=n(3510),a=n(6768);class o{constructor(){this._stack=[],this._p=0}record(e,t){this._stack[this._p]={type:e,...t},console.log("入栈",{type:e,...t}),this._p++,this._stack.length=this._p}withdraw(){return!(this._p<=0)&&(this._p--,this._stack[this._p])}unwithdraw(){return!(this._p>=this._stack.length)&&this._stack[this._p++]}clear(){this._stack.length=0,this._p=0}}const i=new o;function l({itemData:e}){const t=e.parent.children.indexOf(e);return-1!==t&&(e.parent.children.splice(t,1),!0)}function u(e){const{itemData:t,oldTitle:n}=e,r=t.node.querySelector(".content");return!!r&&(e.newTitle=t.title,t.title=n,r.innerTHML=n,(0,a.dY)((()=>t.updateRect())),!0)}function s({itemData:e,father:t,start:n,length:r}){const a=t.children.splice(n,r,e);return e.children=a,a.forEach((t=>{t.pos.left-=e.pos.left,t.pos.top-=e.pos.top,t.parent=e})),!0}function c(){const e=i.withdraw();if(!e)return;const{type:t,itemData:n}=e;let a=!1;if("tab"===t)a=l(e);else if("edit"===t)a=u(e);else{if("del"!==t)throw Error("撤回异常");a=s(e)}a?(0,r.j3)("撤回"):(0,r.aJ)("撤回-失败")}function d(e,t){i.record(e,t)}function f(){const e=i.unwithdraw();if(!e)return;const{type:t}=e;let n;if("tab"===t)n=p(e);else if("edit"===t)n=h(e);else{if("del"!==t)throw Error("反撤回异常");n=m(e)}n?(0,r.j3)("反撤回"):(0,r.aJ)("反撤回-失败")}function p({itemData:e}){return e.parent.children.push(e)}function h({itemData:e,newTitle:t}){const n=e.node.querySelector(".content");return!!n&&(e.title=t,n.innerTHML=t,(0,a.dY)((()=>e.updateRect())),!0)}function m({itemData:e,father:t,start:n,length:r}){return e.del(!1)}},5634:function(e,t,n){var r={"./cover.png":6943,"./template_default.png":6732};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=5634},6943:function(e){"use strict";e.exports="data:image/png;base64,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"},6732:function(e,t,n){"use strict";e.exports=n.p+"img/template_default.3cc9f2b4.png"},6274:function(){},8535:function(){}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,r,a,o){if(!r){var i=1/0;for(c=0;c<e.length;c++){r=e[c][0],a=e[c][1],o=e[c][2];for(var l=!0,u=0;u<r.length;u++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[u])}))?r.splice(u--,1):(l=!1,o<i&&(i=o));if(l){e.splice(c--,1);var s=a();void 0!==s&&(t=s)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+".b525c1e6.js"}}(),function(){n.miniCssF=function(e){return"css/"+e+".86f1c80c.css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="mind-x:";n.l=function(r,a,o,i){if(e[r])e[r].push(a);else{var l,u;if(void 0!==o)for(var s=document.getElementsByTagName("script"),c=0;c<s.length;c++){var d=s[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){l=d;break}}l||(u=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+o),l.src=r),e[r]=[a];var f=function(t,n){l.onerror=l.onload=null,clearTimeout(p);var a=e[r];if(delete e[r],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=f.bind(null,l.onerror),l.onload=f.bind(null,l.onload),u&&document.head.appendChild(l)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,r,a){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var i=function(n){if(o.onerror=o.onload=null,"load"===n.type)r();else{var i=n&&n.type,l=n&&n.target&&n.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+i+": "+l+")");u.name="ChunkLoadError",u.code="CSS_CHUNK_LOAD_FAILED",u.type=i,u.request=l,o.parentNode&&o.parentNode.removeChild(o),a(u)}};return o.onerror=o.onload=i,o.href=t,n?n.parentNode.insertBefore(o,n.nextSibling):document.head.appendChild(o),o},t=function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var a=n[r],o=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===e||o===t))return a}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){a=i[r],o=a.getAttribute("data-href");if(o===e||o===t)return a}},r=function(r){return new Promise((function(a,o){var i=n.miniCssF(r),l=n.p+i;if(t(i,l))return a();e(r,l,null,a,o)}))},a={524:0};n.f.miniCss=function(e,t){var n={754:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=r(e).then((function(){a[e]=0}),(function(t){throw delete a[e],t})))}}}(),function(){var e={524:0};n.f.j=function(t,r){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise((function(n,r){a=e[t]=[n,r]}));r.push(a[2]=o);var i=n.p+n.u(t),l=new Error,u=function(r){if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",l.name="ChunkLoadError",l.type=o,l.request=i,a[1](l)}};n.l(i,u,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,i=r[0],l=r[1],u=r[2],s=0;if(i.some((function(t){return 0!==e[t]}))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(u)var c=u(n)}for(t&&t(r);s<i.length;s++)o=i[s],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},r=self["webpackChunkmind_x"]=self["webpackChunkmind_x"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],(function(){return n(2422)}));r=n.O(r)})();
//# sourceMappingURL=app.7735cccd.js.map